// Generated by CoffeeScript 1.10.0
var EndpointConfigService,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

EndpointConfigService = (function(superClass) {
  extend(EndpointConfigService, superClass);

  function EndpointConfigService() {
    return EndpointConfigService.__super__.constructor.apply(this, arguments);
  }

  EndpointConfigService.inject('$rootScope');

  EndpointConfigService.prototype.initialize = function() {
    this.currentEndpoint = {
      URI: 'http://todo.yoophi.com/',
      root: 'api/v1.0',
      format: ''
    };
    this.userId = null;
    return this.$rootScope.$on('onCurrentUserId', function(event, id) {
      return this.userId = id;
    });
  };

  EndpointConfigService.prototype.getUrl = function(model) {
    return this.currentEndpoint.URI + this.currentEndpoint.root + model;
  };

  EndpointConfigService.prototype.getUrlForId = function(model, id) {
    return this.getUrl(model) + id + this.currentEndpoint.format;
  };

  EndpointConfigService.prototype.getCurrentFormat = function() {
    return this.currentEndpoint.format;
  };

  EndpointConfigService.prototype.getCurrentURI = function() {
    return this.currentEndpoint.URI;
  };

  return EndpointConfigService;

})(BaseService);

angular.module('todoApp').service('EndpointConfigService', EndpointConfigService);
